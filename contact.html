<!DOCTYPE html>
<html lang="en">
  <head>
    A
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact</title>
    <!-- <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/> -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&family=Ubuntu+Condensed&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu+Condensed&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500&family=Roboto:ital@1&family=Ubuntu+Condensed&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles/common.css" />
    <link rel="stylesheet" href="styles/nav.css" />
    <link rel="stylesheet" href="styles/footer.css" />
    <link rel="stylesheet" href="styles/skewedHeader.css" />
    <link rel="stylesheet" href="styles/pageContainer.css" />
    <link rel="stylesheet" href="styles/helpers.css" />
    <link rel="stylesheet" href="styles/contact.css" />
    <link rel="stylesheet" href="styles/form.css" />
    <link rel="stylesheet" href="styles/buttons.css" />
    <link rel="stylesheet" href="styles/mediaQueries.css" />
  </head>

  <body>
    <!-- Skewed Header -->
    <div class="skewed-header">
      <div
        class="header-bg"
        style="background-image: url('images/balloons_hearts.jpeg')"
        alt="balloons and hearts"
      ></div>

      <div class="skewed-header-wrapper">
        <div class="skewed-header-content">
          <div class="heading-wrapper">
            <h1>Contact</h1>
          </div>

          <div class="links-wrapper">
            <!--Nav Link Wrapper-->
            <div class="nav-link">
              <a href="index.html">Home</a>
            </div>

            <!--Nav Link Wrapper-->
            <div class="nav-link">
              <a href="about.html">About</a>
            </div>

            <!--Nav Link Wrapper-->
            <div class="nav-link">
              <a href="menu.html">Services</a>
            </div>

            <!--Nav Link Wrapper-->
            <div class="nav-link">
              <a href="contact.html">Contact</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Page Container -->
    <div class="page-container">
      <div class="contact-grid-wrapper">
        <div class="company-metadata-sidebar-wrapper">
          <div class="logo">
            <img src="images/logos/logo.jpeg" alt="Company's Logo" />
          </div>

          <div class="company-details-wrapper">
            <i class="fas fa-map-marker-alt"></i>

            <div>
              Opp LP# 117.<br />Fifth Company Village,<br />Princes Town
            </div>
          </div>

          <div class="company-details-wrapper">
            <i class="fas fa-phone-volume"></i>

            <div>868 305 2257</div>
          </div>

          <div class="company-details-wrapper">
            <i class="far fa-clock"></i>

            <div>8 AM - 5 PM</div>
          </div>
        </div>

        <!-- Form -->
        <!-- Wrap form in a form tag 
          with the action value set to Google API link-->
        <form
          class="gform"
          id="contact-form"
          method="post"
          action="https://script.google.com/macros/s/AKfycbwqz_qFxcZAeuXkrkMQgPcOzwtCu6sCYfaW7DskytfZ3mPBqsIMLVHv1cuA_AxPBi9l/exec"
        >
          <div class="form">
            <div class="form-group">
              <input
                type="text"
                id="fullName"
                placeholder="Your name"
                name="name"
                required
              />
              <label for="fullName">Your Name</label>
            </div>

            <div class="form-group">
              <input
                type="email"
                id="email"
                placeholder="Email"
                name="email"
                required
              />
              <label for="email">Email</label>
            </div>

            <div class="form-group">
              <input
                type="tel"
                id="tel"
                placeholder="Phone Number (Optional)"
                name="phone"
                pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
              />
              <label for="tel">Format: 123-456-7890</label>
            </div>

            <div class="form-group">
              <textarea
                name="message"
                id="message"
                placeholder="Message"
                required
              ></textarea>
              <label for="message">Message</label>
            </div>

            <!--HoneyPot Field-->
            <div class="form-group" aria-hidden="true">
              <input type="usercode" class="usercode id="usercode"
              placeholder="Got You Honey" name="usercode" tabindex="-1" value=""
              autocomplete="off" name="usercode" />

              <label for="usercode">gotYouHoney</label>
            </div>

            <!-- Spacer10 -->
            <div class="spacer10"></div>

            <div class="centred-btn-wrapper">
              <button id="send" type="submit" class="btn">Send</button>
            </div>
          </div>

          <div class="thankyou" style="display: none">
            <!-- You can customize the thankyou message by editing the code below -->
            <h2>
              <em>Thanks</em> for contacting us! We will get back to you soon!
            </h2>
          </div>
        </form>
      </div>
    </div>

    <!-- Helper Space 60 -->
    <div class="spacer60"></div>

    <!-- Footer -->
    <div class="footer">
      <div class="footer-inner">
        <!-- Image Footer -->
        <div class="logo-footer">
          <img src="images/logos/logo.jpeg" alt="Company's Logo" />
        </div>

        <!-- Phone & Contact-Hours -->
        <div class="phone-hours-footer">
          <span class="phone-footer"> 868-305-2257 </span>

          <span class="hours-footer"> 8 AM - 5 PM </span>
        </div>

        <!-- nav-links -->
        <div class="links-wrapper-footer">
          <div class="nav-link-footer">
            <a href="index.html">Home</a>
          </div>

          <div class="nav-link-footer">
            <a href="about.html">About</a>
          </div>

          <div class="nav-link-footer">
            <a href="menu.html">Services</a>
          </div>

          <div class="nav-link-footer">
            <a href="contact.html">Contact</a>
          </div>
        </div>

        <!-- Instagram, Twitter, Facebook icons  -->
        <div class="footer-icons">
          <a href="#">
            <i class="fab fa-instagram"></i>
          </a>

          <a href="#">
            <i class="fab fa-twitter"></i>
          </a>

          <a href="#">
            <i class="fab fa-facebook-f"></i>
          </a>
        </div>
      </div>
    </div>

    <script>
      //Check form and prevent form submission if validation fails

      var phone_input = document.getElementById("tel");

      phone_input.addEventListener("input", () => {
        phone_input.setCustomValidity("");
        phone_input.checkValidity();
      });

      phone_input.addEventListener("invalid", () => {
        if (phone_input.value === "") {
          phone_input.setCustomValidity("Enter phone number!");
        } else {
          phone_input.setCustomValidity(
            "Enter phone number in this format: 123-456-7890"
          );
        }
      });

      (function () {
        // get all data in form and return object
        function getFormData(form) {
          var elements = form.elements;
          var usercode;

          var fields = Object.keys(elements)
            .filter(function (k) {
              if (elements[k].name === "usercode") {
                usercode = elements[k].value;
                return false;
              }
              return true;
            })
            .map(function (k) {
              if (elements[k].name !== undefined) {
                return elements[k].name;
                // special case for Edge's html collection
              } else if (elements[k].length > 0) {
                return elements[k].item(0).name;
              }
            })
            .filter(function (item, pos, self) {
              return self.indexOf(item) == pos && item;
            });

          var formData = {};
          fields.forEach(function (name) {
            var element = elements[name];

            // singular form elements just have one value
            formData[name] = element.value;

            // when our element has multiple items, get their values
            if (element.length) {
              var data = [];
              for (var i = 0; i < element.length; i++) {
                var item = element.item(i);
                if (item.checked || item.selected) {
                  data.push(item.value);
                }
              }
              formData[name] = data.join(", ");
            }
          });

          // add form-specific values into the data
          formData.formDataNameOrder = JSON.stringify(fields);
          formData.formGoogleSheetName = form.dataset.sheet || "responses"; // default sheet name
          formData.formGoogleSendEmail = form.dataset.email || ""; // no email by default

          return { data: formData, usercode: usercode };
        }

        function handleFormSubmit(event) {
          // handles form submit without any jquery
          event.preventDefault(); // we are submitting via xhr below
          var form = event.target;
          var formData = getFormData(form);
          var data = formData.data;

          // If a honeypot field is filled, assume it was done so by a spam bot.
          if (formData.usercode) {
            console.log("Got a spam!");
            return false;
          }

          disableAllButtons(form);
          var url = form.action;
          var xhr = new XMLHttpRequest();
          xhr.open("POST", url);
          // xhr.withCredentials = true;
          xhr.setRequestHeader(
            "Content-Type",
            "application/x-www-form-urlencoded"
          );
          xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
              form.reset();
              formElements = form.querySelector("contact-form");
              if (formElements) {
                formElements.style.display = "none"; // hide form
              }
              var thankYouMessage = form.querySelector(".thankyou");
              if (thankYouMessage) {
                thankYouMessage.style.display = "block";
              }
            }
          };
          // url encode form data for sending as post data
          var encoded = Object.keys(data)
            .map(function (k) {
              return encodeURIComponent(k) + "=" + encodeURIComponent(data[k]);
            })
            .join("&");
          xhr.send(encoded);
        }

        function loaded() {
          // bind to the submit event of our form
          var forms = document.querySelectorAll("form.gform");
          for (var i = 0; i < forms.length; i++) {
            forms[i].addEventListener("submit", handleFormSubmit, false);
          }
        }
        document.addEventListener("DOMContentLoaded", loaded, false);

        function disableAllButtons(form) {
          var buttons = form.querySelectorAll("button");
          for (var i = 0; i < buttons.length; i++) {
            buttons[i].disabled = true;
          }
        }
      })();
    </script>
  </body>
</html>
